{"message":"Listening on port 8000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly...","level":"info"}
{"level":"error","message":"Joi.validate is not a functionJoi.validate is not a function","stack":"TypeError: Joi.validate is not a function\n    at validateGenre (/Users/angel1sma3l/Developer/node-js-course/vidly/models/genre.js:22:14)\n    at router.post (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/genres.js:28:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:317:13)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_tests...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_tests...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_tests...","level":"info"}
{"level":"error","message":"Joi.validate is not a functionJoi.validate is not a function","stack":"TypeError: Joi.validate is not a function\n    at validateGenre (/Users/angel1sma3l/Developer/node-js-course/vidly/models/genre.js:22:14)\n    at Object.<anonymous>.router.post (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/genres.js:27:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:317:13)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)"}
{"level":"error","message":"Joi.validate is not a functionJoi.validate is not a function","stack":"TypeError: Joi.validate is not a function\n    at validateGenre (/Users/angel1sma3l/Developer/node-js-course/vidly/models/genre.js:22:14)\n    at Object.<anonymous>.router.post (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/genres.js:27:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:317:13)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)"}
{"level":"error","message":"Joi.validate is not a functionJoi.validate is not a function","stack":"TypeError: Joi.validate is not a function\n    at validateGenre (/Users/angel1sma3l/Developer/node-js-course/vidly/models/genre.js:22:14)\n    at Object.<anonymous>.router.post (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/genres.js:27:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:317:13)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)"}
{"level":"error","message":"Joi.validate is not a functionJoi.validate is not a function","stack":"TypeError: Joi.validate is not a function\n    at validateGenre (/Users/angel1sma3l/Developer/node-js-course/vidly/models/genre.js:22:14)\n    at Object.<anonymous>.router.post (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/genres.js:27:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:317:13)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)"}
{"level":"error","message":"Joi.validate is not a functionJoi.validate is not a function","stack":"TypeError: Joi.validate is not a function\n    at validateGenre (/Users/angel1sma3l/Developer/node-js-course/vidly/models/genre.js:22:14)\n    at Object.<anonymous>.router.put (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/genres.js:37:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/validateObjectId.js:5:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)"}
{"level":"error","message":"Joi.validate is not a functionJoi.validate is not a function","stack":"TypeError: Joi.validate is not a function\n    at validateGenre (/Users/angel1sma3l/Developer/node-js-course/vidly/models/genre.js:22:14)\n    at Object.<anonymous>.router.put (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/genres.js:37:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/validateObjectId.js:5:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)"}
{"level":"error","message":"Joi.validate is not a functionJoi.validate is not a function","stack":"TypeError: Joi.validate is not a function\n    at validateGenre (/Users/angel1sma3l/Developer/node-js-course/vidly/models/genre.js:22:14)\n    at Object.<anonymous>.router.put (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/genres.js:37:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/validateObjectId.js:5:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)"}
{"level":"error","message":"Joi.validate is not a functionJoi.validate is not a function","stack":"TypeError: Joi.validate is not a function\n    at validateGenre (/Users/angel1sma3l/Developer/node-js-course/vidly/models/genre.js:22:14)\n    at Object.<anonymous>.router.put (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/genres.js:37:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/validateObjectId.js:5:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)"}
{"level":"error","message":"Joi.validate is not a functionJoi.validate is not a function","stack":"TypeError: Joi.validate is not a function\n    at validateGenre (/Users/angel1sma3l/Developer/node-js-course/vidly/models/genre.js:22:14)\n    at Object.<anonymous>.router.put (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/genres.js:37:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/validateObjectId.js:5:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_tests...","level":"info"}
{"level":"error","message":"Joi.validate is not a functionJoi.validate is not a function","stack":"TypeError: Joi.validate is not a function\n    at validateGenre (/Users/angel1sma3l/Developer/node-js-course/vidly/models/genre.js:22:14)\n    at Object.<anonymous>.router.post (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/genres.js:27:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:317:13)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_tests...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_tests...","level":"info"}
{"level":"error","message":"schema.validate is not a functionschema.validate is not a function","stack":"TypeError: schema.validate is not a function\n    at validateGenre (/Users/angel1sma3l/Developer/node-js-course/vidly/models/genre.js:22:17)\n    at Object.<anonymous>.router.post (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/genres.js:27:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:317:13)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_tests...","level":"info"}
{"level":"error","message":"schema.validate is not a functionschema.validate is not a function","stack":"TypeError: schema.validate is not a function\n    at validateGenre (/Users/angel1sma3l/Developer/node-js-course/vidly/models/genre.js:22:17)\n    at Object.<anonymous>.router.post (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/genres.js:27:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:317:13)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)"}
{"level":"error","message":"schema.validate is not a functionschema.validate is not a function","stack":"TypeError: schema.validate is not a function\n    at validateGenre (/Users/angel1sma3l/Developer/node-js-course/vidly/models/genre.js:22:17)\n    at Object.<anonymous>.router.post (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/genres.js:27:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:317:13)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)"}
{"level":"error","message":"schema.validate is not a functionschema.validate is not a function","stack":"TypeError: schema.validate is not a function\n    at validateGenre (/Users/angel1sma3l/Developer/node-js-course/vidly/models/genre.js:22:17)\n    at Object.<anonymous>.router.post (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/genres.js:27:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:317:13)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)"}
{"level":"error","message":"schema.validate is not a functionschema.validate is not a function","stack":"TypeError: schema.validate is not a function\n    at validateGenre (/Users/angel1sma3l/Developer/node-js-course/vidly/models/genre.js:22:17)\n    at Object.<anonymous>.router.post (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/genres.js:27:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:317:13)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)"}
{"level":"error","message":"schema.validate is not a functionschema.validate is not a function","stack":"TypeError: schema.validate is not a function\n    at validateGenre (/Users/angel1sma3l/Developer/node-js-course/vidly/models/genre.js:22:17)\n    at Object.<anonymous>.router.put (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/genres.js:37:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/validateObjectId.js:5:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)"}
{"level":"error","message":"schema.validate is not a functionschema.validate is not a function","stack":"TypeError: schema.validate is not a function\n    at validateGenre (/Users/angel1sma3l/Developer/node-js-course/vidly/models/genre.js:22:17)\n    at Object.<anonymous>.router.put (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/genres.js:37:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/validateObjectId.js:5:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)"}
{"level":"error","message":"schema.validate is not a functionschema.validate is not a function","stack":"TypeError: schema.validate is not a function\n    at validateGenre (/Users/angel1sma3l/Developer/node-js-course/vidly/models/genre.js:22:17)\n    at Object.<anonymous>.router.put (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/genres.js:37:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/validateObjectId.js:5:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)"}
{"level":"error","message":"schema.validate is not a functionschema.validate is not a function","stack":"TypeError: schema.validate is not a function\n    at validateGenre (/Users/angel1sma3l/Developer/node-js-course/vidly/models/genre.js:22:17)\n    at Object.<anonymous>.router.put (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/genres.js:37:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/validateObjectId.js:5:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)"}
{"level":"error","message":"schema.validate is not a functionschema.validate is not a function","stack":"TypeError: schema.validate is not a function\n    at validateGenre (/Users/angel1sma3l/Developer/node-js-course/vidly/models/genre.js:22:17)\n    at Object.<anonymous>.router.put (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/genres.js:37:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/validateObjectId.js:5:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_tests...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_tests...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_tests...","level":"info"}
{"level":"error","message":"Joi.validate is not a functionJoi.validate is not a function","stack":"TypeError: Joi.validate is not a function\n    at validateGenre (/Users/angel1sma3l/Developer/node-js-course/vidly/models/genre.js:22:14)\n    at Object.<anonymous>.router.post (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/genres.js:27:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:317:13)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_tests...","level":"info"}
{"level":"error","message":"Joi.validate is not a functionJoi.validate is not a function","stack":"TypeError: Joi.validate is not a function\n    at validateGenre (/Users/angel1sma3l/Developer/node-js-course/vidly/models/genre.js:22:14)\n    at Object.<anonymous>.router.post (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/genres.js:27:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:317:13)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)"}
{"level":"error","message":"Joi.validate is not a functionJoi.validate is not a function","stack":"TypeError: Joi.validate is not a function\n    at validateGenre (/Users/angel1sma3l/Developer/node-js-course/vidly/models/genre.js:22:14)\n    at Object.<anonymous>.router.post (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/genres.js:27:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:317:13)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)"}
{"level":"error","message":"Joi.validate is not a functionJoi.validate is not a function","stack":"TypeError: Joi.validate is not a function\n    at validateGenre (/Users/angel1sma3l/Developer/node-js-course/vidly/models/genre.js:22:14)\n    at Object.<anonymous>.router.post (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/genres.js:27:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:317:13)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)"}
{"level":"error","message":"Joi.validate is not a functionJoi.validate is not a function","stack":"TypeError: Joi.validate is not a function\n    at validateGenre (/Users/angel1sma3l/Developer/node-js-course/vidly/models/genre.js:22:14)\n    at Object.<anonymous>.router.post (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/genres.js:27:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:317:13)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)"}
{"level":"error","message":"Joi.validate is not a functionJoi.validate is not a function","stack":"TypeError: Joi.validate is not a function\n    at validateGenre (/Users/angel1sma3l/Developer/node-js-course/vidly/models/genre.js:22:14)\n    at Object.<anonymous>.router.put (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/genres.js:37:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/validateObjectId.js:5:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)"}
{"level":"error","message":"Joi.validate is not a functionJoi.validate is not a function","stack":"TypeError: Joi.validate is not a function\n    at validateGenre (/Users/angel1sma3l/Developer/node-js-course/vidly/models/genre.js:22:14)\n    at Object.<anonymous>.router.put (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/genres.js:37:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/validateObjectId.js:5:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)"}
{"level":"error","message":"Joi.validate is not a functionJoi.validate is not a function","stack":"TypeError: Joi.validate is not a function\n    at validateGenre (/Users/angel1sma3l/Developer/node-js-course/vidly/models/genre.js:22:14)\n    at Object.<anonymous>.router.put (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/genres.js:37:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/validateObjectId.js:5:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)"}
{"level":"error","message":"Joi.validate is not a functionJoi.validate is not a function","stack":"TypeError: Joi.validate is not a function\n    at validateGenre (/Users/angel1sma3l/Developer/node-js-course/vidly/models/genre.js:22:14)\n    at Object.<anonymous>.router.put (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/genres.js:37:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/validateObjectId.js:5:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)"}
{"level":"error","message":"Joi.validate is not a functionJoi.validate is not a function","stack":"TypeError: Joi.validate is not a function\n    at validateGenre (/Users/angel1sma3l/Developer/node-js-course/vidly/models/genre.js:22:14)\n    at Object.<anonymous>.router.put (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/genres.js:37:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/validateObjectId.js:5:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_tests...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_tests...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_tests...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_tests...","level":"info"}
{"level":"error","message":"schema.validate is not a functionschema.validate is not a function","stack":"TypeError: schema.validate is not a function\n    at validateGenre (/Users/angel1sma3l/Developer/node-js-course/vidly/models/genre.js:22:17)\n    at Object.<anonymous>.router.post (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/genres.js:27:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:317:13)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)"}
{"level":"error","message":"schema.validate is not a functionschema.validate is not a function","stack":"TypeError: schema.validate is not a function\n    at validateGenre (/Users/angel1sma3l/Developer/node-js-course/vidly/models/genre.js:22:17)\n    at Object.<anonymous>.router.post (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/genres.js:27:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:317:13)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)"}
{"level":"error","message":"schema.validate is not a functionschema.validate is not a function","stack":"TypeError: schema.validate is not a function\n    at validateGenre (/Users/angel1sma3l/Developer/node-js-course/vidly/models/genre.js:22:17)\n    at Object.<anonymous>.router.post (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/genres.js:27:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:317:13)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)"}
{"level":"error","message":"schema.validate is not a functionschema.validate is not a function","stack":"TypeError: schema.validate is not a function\n    at validateGenre (/Users/angel1sma3l/Developer/node-js-course/vidly/models/genre.js:22:17)\n    at Object.<anonymous>.router.post (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/genres.js:27:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:317:13)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)"}
{"level":"error","message":"schema.validate is not a functionschema.validate is not a function","stack":"TypeError: schema.validate is not a function\n    at validateGenre (/Users/angel1sma3l/Developer/node-js-course/vidly/models/genre.js:22:17)\n    at Object.<anonymous>.router.post (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/genres.js:27:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:317:13)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)"}
{"level":"error","message":"schema.validate is not a functionschema.validate is not a function","stack":"TypeError: schema.validate is not a function\n    at validateGenre (/Users/angel1sma3l/Developer/node-js-course/vidly/models/genre.js:22:17)\n    at Object.<anonymous>.router.put (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/genres.js:37:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/validateObjectId.js:5:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)"}
{"level":"error","message":"schema.validate is not a functionschema.validate is not a function","stack":"TypeError: schema.validate is not a function\n    at validateGenre (/Users/angel1sma3l/Developer/node-js-course/vidly/models/genre.js:22:17)\n    at Object.<anonymous>.router.put (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/genres.js:37:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/validateObjectId.js:5:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)"}
{"level":"error","message":"schema.validate is not a functionschema.validate is not a function","stack":"TypeError: schema.validate is not a function\n    at validateGenre (/Users/angel1sma3l/Developer/node-js-course/vidly/models/genre.js:22:17)\n    at Object.<anonymous>.router.put (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/genres.js:37:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/validateObjectId.js:5:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)"}
{"level":"error","message":"schema.validate is not a functionschema.validate is not a function","stack":"TypeError: schema.validate is not a function\n    at validateGenre (/Users/angel1sma3l/Developer/node-js-course/vidly/models/genre.js:22:17)\n    at Object.<anonymous>.router.put (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/genres.js:37:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/validateObjectId.js:5:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)"}
{"level":"error","message":"schema.validate is not a functionschema.validate is not a function","stack":"TypeError: schema.validate is not a function\n    at validateGenre (/Users/angel1sma3l/Developer/node-js-course/vidly/models/genre.js:22:17)\n    at Object.<anonymous>.router.put (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/genres.js:37:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/validateObjectId.js:5:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_tests...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_tests...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_tests...","level":"info"}
{"level":"error","message":"Invalid message optionsInvalid message options","stack":"Error: Invalid message options\n    at new Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/hoek/lib/error.js:23:19)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/hoek/lib/assert.js:20:11)\n    at Object.<anonymous>.exports.compile (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/joi/lib/messages.js:30:5)\n    at Object.<anonymous>.exports.preferences (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/joi/lib/common.js:158:36)\n    at Object.<anonymous>.exports.entry (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/joi/lib/validator.js:23:27)\n    at Object.<anonymous>.internals.Base.validate (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/joi/lib/base.js:531:26)\n    at validateGenre (/Users/angel1sma3l/Developer/node-js-course/vidly/models/genre.js:23:17)\n    at Object.<anonymous>.router.post (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/genres.js:27:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_tests...","level":"info"}
{"level":"error","message":"Invalid message optionsInvalid message options","stack":"Error: Invalid message options\n    at new Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/hoek/lib/error.js:23:19)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/hoek/lib/assert.js:20:11)\n    at Object.<anonymous>.exports.compile (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/joi/lib/messages.js:30:5)\n    at Object.<anonymous>.exports.preferences (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/joi/lib/common.js:158:36)\n    at Object.<anonymous>.exports.entry (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/joi/lib/validator.js:23:27)\n    at Object.<anonymous>.internals.Base.validate (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/joi/lib/base.js:531:26)\n    at validateGenre (/Users/angel1sma3l/Developer/node-js-course/vidly/models/genre.js:23:17)\n    at Object.<anonymous>.router.post (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/genres.js:27:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)"}
{"level":"error","message":"Invalid message optionsInvalid message options","stack":"Error: Invalid message options\n    at new Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/hoek/lib/error.js:23:19)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/hoek/lib/assert.js:20:11)\n    at Object.<anonymous>.exports.compile (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/joi/lib/messages.js:30:5)\n    at Object.<anonymous>.exports.preferences (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/joi/lib/common.js:158:36)\n    at Object.<anonymous>.exports.entry (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/joi/lib/validator.js:23:27)\n    at Object.<anonymous>.internals.Base.validate (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/joi/lib/base.js:531:26)\n    at validateGenre (/Users/angel1sma3l/Developer/node-js-course/vidly/models/genre.js:23:17)\n    at Object.<anonymous>.router.post (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/genres.js:27:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)"}
{"level":"error","message":"Invalid message optionsInvalid message options","stack":"Error: Invalid message options\n    at new Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/hoek/lib/error.js:23:19)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/hoek/lib/assert.js:20:11)\n    at Object.<anonymous>.exports.compile (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/joi/lib/messages.js:30:5)\n    at Object.<anonymous>.exports.preferences (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/joi/lib/common.js:158:36)\n    at Object.<anonymous>.exports.entry (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/joi/lib/validator.js:23:27)\n    at Object.<anonymous>.internals.Base.validate (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/joi/lib/base.js:531:26)\n    at validateGenre (/Users/angel1sma3l/Developer/node-js-course/vidly/models/genre.js:23:17)\n    at Object.<anonymous>.router.post (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/genres.js:27:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)"}
{"level":"error","message":"Invalid message optionsInvalid message options","stack":"Error: Invalid message options\n    at new Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/hoek/lib/error.js:23:19)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/hoek/lib/assert.js:20:11)\n    at Object.<anonymous>.exports.compile (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/joi/lib/messages.js:30:5)\n    at Object.<anonymous>.exports.preferences (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/joi/lib/common.js:158:36)\n    at Object.<anonymous>.exports.entry (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/joi/lib/validator.js:23:27)\n    at Object.<anonymous>.internals.Base.validate (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/joi/lib/base.js:531:26)\n    at validateGenre (/Users/angel1sma3l/Developer/node-js-course/vidly/models/genre.js:23:17)\n    at Object.<anonymous>.router.post (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/genres.js:27:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)"}
{"level":"error","message":"Invalid message optionsInvalid message options","stack":"Error: Invalid message options\n    at new Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/hoek/lib/error.js:23:19)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/hoek/lib/assert.js:20:11)\n    at Object.<anonymous>.exports.compile (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/joi/lib/messages.js:30:5)\n    at Object.<anonymous>.exports.preferences (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/joi/lib/common.js:158:36)\n    at Object.<anonymous>.exports.entry (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/joi/lib/validator.js:23:27)\n    at Object.<anonymous>.internals.Base.validate (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/joi/lib/base.js:531:26)\n    at validateGenre (/Users/angel1sma3l/Developer/node-js-course/vidly/models/genre.js:23:17)\n    at Object.<anonymous>.router.put (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/genres.js:37:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/validateObjectId.js:5:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)"}
{"level":"error","message":"Invalid message optionsInvalid message options","stack":"Error: Invalid message options\n    at new Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/hoek/lib/error.js:23:19)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/hoek/lib/assert.js:20:11)\n    at Object.<anonymous>.exports.compile (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/joi/lib/messages.js:30:5)\n    at Object.<anonymous>.exports.preferences (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/joi/lib/common.js:158:36)\n    at Object.<anonymous>.exports.entry (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/joi/lib/validator.js:23:27)\n    at Object.<anonymous>.internals.Base.validate (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/joi/lib/base.js:531:26)\n    at validateGenre (/Users/angel1sma3l/Developer/node-js-course/vidly/models/genre.js:23:17)\n    at Object.<anonymous>.router.put (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/genres.js:37:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/validateObjectId.js:5:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)"}
{"level":"error","message":"Invalid message optionsInvalid message options","stack":"Error: Invalid message options\n    at new Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/hoek/lib/error.js:23:19)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/hoek/lib/assert.js:20:11)\n    at Object.<anonymous>.exports.compile (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/joi/lib/messages.js:30:5)\n    at Object.<anonymous>.exports.preferences (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/joi/lib/common.js:158:36)\n    at Object.<anonymous>.exports.entry (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/joi/lib/validator.js:23:27)\n    at Object.<anonymous>.internals.Base.validate (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/joi/lib/base.js:531:26)\n    at validateGenre (/Users/angel1sma3l/Developer/node-js-course/vidly/models/genre.js:23:17)\n    at Object.<anonymous>.router.put (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/genres.js:37:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/validateObjectId.js:5:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)"}
{"level":"error","message":"Invalid message optionsInvalid message options","stack":"Error: Invalid message options\n    at new Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/hoek/lib/error.js:23:19)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/hoek/lib/assert.js:20:11)\n    at Object.<anonymous>.exports.compile (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/joi/lib/messages.js:30:5)\n    at Object.<anonymous>.exports.preferences (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/joi/lib/common.js:158:36)\n    at Object.<anonymous>.exports.entry (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/joi/lib/validator.js:23:27)\n    at Object.<anonymous>.internals.Base.validate (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/joi/lib/base.js:531:26)\n    at validateGenre (/Users/angel1sma3l/Developer/node-js-course/vidly/models/genre.js:23:17)\n    at Object.<anonymous>.router.put (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/genres.js:37:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/validateObjectId.js:5:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)"}
{"level":"error","message":"Invalid message optionsInvalid message options","stack":"Error: Invalid message options\n    at new Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/hoek/lib/error.js:23:19)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/hoek/lib/assert.js:20:11)\n    at Object.<anonymous>.exports.compile (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/joi/lib/messages.js:30:5)\n    at Object.<anonymous>.exports.preferences (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/joi/lib/common.js:158:36)\n    at Object.<anonymous>.exports.entry (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/joi/lib/validator.js:23:27)\n    at Object.<anonymous>.internals.Base.validate (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/joi/lib/base.js:531:26)\n    at validateGenre (/Users/angel1sma3l/Developer/node-js-course/vidly/models/genre.js:23:17)\n    at Object.<anonymous>.router.put (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/genres.js:37:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/validateObjectId.js:5:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_tests...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_tests...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_tests...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_tests...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_tests...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_tests...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_tests...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_tests...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_tests...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_tests...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_tests...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_tests...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_tests...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_tests...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_tests...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_tests...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_tests...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_tests...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_tests...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_tests...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_tests...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_tests...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_tests...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_tests...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_tests...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb+srv://dbmaelo:1234@maelovidly-glvo4.azure.mongodb.net/vidly?retryWrites=true&w=majority...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_tests...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_tests...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_tests...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_tests...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb+srv://dbmaelo:1234@maelovidly-glvo4.azure.mongodb.net/vidly?retryWrites=true&w=majority...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb+srv://dbmaelo:1234@maelovidly-glvo4.azure.mongodb.net/vidly?retryWrites=true&w=majority...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly...","level":"info"}
{"level":"error","message":"err is not definederr is not defined","stack":"ReferenceError: err is not defined\n    at router.get (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/users.js:15:36)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:317:13)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly...","level":"info"}
{"level":"error","message":"validateCustomer is not a functionvalidateCustomer is not a function","stack":"TypeError: validateCustomer is not a function\n    at router.post (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/customers.js:13:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:317:13)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/raw-body/index.js:224:16)\n    at done (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/raw-body/index.js:273:7)"}
{"message":"Connected to mongodb://localhost/vidly...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly...","level":"info"}
{"level":"error","message":"validateCustomer is not a functionvalidateCustomer is not a function","stack":"TypeError: validateCustomer is not a function\n    at router.post (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/customers.js:13:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:317:13)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/raw-body/index.js:224:16)\n    at done (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/raw-body/index.js:273:7)"}
{"level":"error","message":"err is not definederr is not defined","stack":"ReferenceError: err is not defined\n    at router.get (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/users.js:15:36)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:317:13)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"validate is not definedvalidate is not defined","stack":"ReferenceError: validate is not defined\n    at router.post (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/movies.js:23:24)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:317:13)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly...","level":"info"}
{"level":"error","message":"validate is not definedvalidate is not defined","stack":"ReferenceError: validate is not defined\n    at router.post (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/movies.js:23:24)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:317:13)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly...","level":"info"}
{"level":"error","message":"validateMovie is not a functionvalidateMovie is not a function","stack":"TypeError: validateMovie is not a function\n    at router.post (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/movies.js:24:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:317:13)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly...","level":"info"}
{"level":"error","message":"Cannot read property 'details' of undefinedCannot read property 'details' of undefined","stack":"TypeError: Cannot read property 'details' of undefined\n    at router.post (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/movies.js:28:48)"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly...","level":"info"}
{"level":"error","message":"Cannot read property 'details' of undefinedCannot read property 'details' of undefined","stack":"TypeError: Cannot read property 'details' of undefined\n    at router.post (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/movies.js:28:48)"}
{"level":"error","message":"validateCustomer is not a functionvalidateCustomer is not a function","stack":"TypeError: validateCustomer is not a function\n    at router.post (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/customers.js:13:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:317:13)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/raw-body/index.js:224:16)\n    at done (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/raw-body/index.js:273:7)"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly...","level":"info"}
{"level":"error","message":"c is not definedc is not defined","stack":"ReferenceError: c is not defined\n    at router.get (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/customers.js:8:20)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:317:13)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/raw-body/index.js:224:16)\n    at done (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/raw-body/index.js:273:7)"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly...","level":"info"}
{"level":"error","message":"Cannot read property 'find' of undefinedCannot read property 'find' of undefined","stack":"TypeError: Cannot read property 'find' of undefined\n    at router.get (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/customers.js:8:35)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:317:13)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/raw-body/index.js:224:16)\n    at done (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/raw-body/index.js:273:7)"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly...","level":"info"}
{"level":"error","message":"Cannot read property 'find' of undefinedCannot read property 'find' of undefined","stack":"TypeError: Cannot read property 'find' of undefined\n    at router.get (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/customers.js:8:35)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:317:13)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/raw-body/index.js:224:16)\n    at done (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/raw-body/index.js:273:7)"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly...","level":"info"}
{"level":"error","message":"Cannot read property 'find' of undefinedCannot read property 'find' of undefined","stack":"TypeError: Cannot read property 'find' of undefined\n    at router.get (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/customers.js:8:35)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:317:13)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/raw-body/index.js:224:16)\n    at done (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/raw-body/index.js:273:7)"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly...","level":"info"}
{"level":"error","message":"Cannot read property 'find' of undefinedCannot read property 'find' of undefined","stack":"TypeError: Cannot read property 'find' of undefined\n    at router.get (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/customers.js:8:35)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:317:13)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/raw-body/index.js:224:16)\n    at done (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/raw-body/index.js:273:7)"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_tests...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_tests...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_tests...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_tests...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_tests...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_tests...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_tests...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_tests...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly...","level":"info"}
