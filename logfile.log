{"message":"Listening on port 8000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly...","level":"info"}
{"level":"error","message":"Joi.validate is not a functionJoi.validate is not a function","stack":"TypeError: Joi.validate is not a function\n    at validateGenre (/Users/angel1sma3l/Developer/node-js-course/vidly/models/genre.js:22:14)\n    at router.post (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/genres.js:28:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:317:13)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_tests...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_tests...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_tests...","level":"info"}
{"level":"error","message":"Joi.validate is not a functionJoi.validate is not a function","stack":"TypeError: Joi.validate is not a function\n    at validateGenre (/Users/angel1sma3l/Developer/node-js-course/vidly/models/genre.js:22:14)\n    at Object.<anonymous>.router.post (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/genres.js:27:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:317:13)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)"}
{"level":"error","message":"Joi.validate is not a functionJoi.validate is not a function","stack":"TypeError: Joi.validate is not a function\n    at validateGenre (/Users/angel1sma3l/Developer/node-js-course/vidly/models/genre.js:22:14)\n    at Object.<anonymous>.router.post (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/genres.js:27:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:317:13)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)"}
{"level":"error","message":"Joi.validate is not a functionJoi.validate is not a function","stack":"TypeError: Joi.validate is not a function\n    at validateGenre (/Users/angel1sma3l/Developer/node-js-course/vidly/models/genre.js:22:14)\n    at Object.<anonymous>.router.post (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/genres.js:27:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:317:13)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)"}
{"level":"error","message":"Joi.validate is not a functionJoi.validate is not a function","stack":"TypeError: Joi.validate is not a function\n    at validateGenre (/Users/angel1sma3l/Developer/node-js-course/vidly/models/genre.js:22:14)\n    at Object.<anonymous>.router.post (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/genres.js:27:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:317:13)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)"}
{"level":"error","message":"Joi.validate is not a functionJoi.validate is not a function","stack":"TypeError: Joi.validate is not a function\n    at validateGenre (/Users/angel1sma3l/Developer/node-js-course/vidly/models/genre.js:22:14)\n    at Object.<anonymous>.router.put (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/genres.js:37:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/validateObjectId.js:5:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)"}
{"level":"error","message":"Joi.validate is not a functionJoi.validate is not a function","stack":"TypeError: Joi.validate is not a function\n    at validateGenre (/Users/angel1sma3l/Developer/node-js-course/vidly/models/genre.js:22:14)\n    at Object.<anonymous>.router.put (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/genres.js:37:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/validateObjectId.js:5:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)"}
{"level":"error","message":"Joi.validate is not a functionJoi.validate is not a function","stack":"TypeError: Joi.validate is not a function\n    at validateGenre (/Users/angel1sma3l/Developer/node-js-course/vidly/models/genre.js:22:14)\n    at Object.<anonymous>.router.put (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/genres.js:37:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/validateObjectId.js:5:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)"}
{"level":"error","message":"Joi.validate is not a functionJoi.validate is not a function","stack":"TypeError: Joi.validate is not a function\n    at validateGenre (/Users/angel1sma3l/Developer/node-js-course/vidly/models/genre.js:22:14)\n    at Object.<anonymous>.router.put (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/genres.js:37:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/validateObjectId.js:5:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)"}
{"level":"error","message":"Joi.validate is not a functionJoi.validate is not a function","stack":"TypeError: Joi.validate is not a function\n    at validateGenre (/Users/angel1sma3l/Developer/node-js-course/vidly/models/genre.js:22:14)\n    at Object.<anonymous>.router.put (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/genres.js:37:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/validateObjectId.js:5:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_tests...","level":"info"}
{"level":"error","message":"Joi.validate is not a functionJoi.validate is not a function","stack":"TypeError: Joi.validate is not a function\n    at validateGenre (/Users/angel1sma3l/Developer/node-js-course/vidly/models/genre.js:22:14)\n    at Object.<anonymous>.router.post (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/genres.js:27:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:317:13)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_tests...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_tests...","level":"info"}
{"level":"error","message":"schema.validate is not a functionschema.validate is not a function","stack":"TypeError: schema.validate is not a function\n    at validateGenre (/Users/angel1sma3l/Developer/node-js-course/vidly/models/genre.js:22:17)\n    at Object.<anonymous>.router.post (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/genres.js:27:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:317:13)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_tests...","level":"info"}
{"level":"error","message":"schema.validate is not a functionschema.validate is not a function","stack":"TypeError: schema.validate is not a function\n    at validateGenre (/Users/angel1sma3l/Developer/node-js-course/vidly/models/genre.js:22:17)\n    at Object.<anonymous>.router.post (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/genres.js:27:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:317:13)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)"}
{"level":"error","message":"schema.validate is not a functionschema.validate is not a function","stack":"TypeError: schema.validate is not a function\n    at validateGenre (/Users/angel1sma3l/Developer/node-js-course/vidly/models/genre.js:22:17)\n    at Object.<anonymous>.router.post (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/genres.js:27:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:317:13)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)"}
{"level":"error","message":"schema.validate is not a functionschema.validate is not a function","stack":"TypeError: schema.validate is not a function\n    at validateGenre (/Users/angel1sma3l/Developer/node-js-course/vidly/models/genre.js:22:17)\n    at Object.<anonymous>.router.post (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/genres.js:27:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:317:13)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)"}
{"level":"error","message":"schema.validate is not a functionschema.validate is not a function","stack":"TypeError: schema.validate is not a function\n    at validateGenre (/Users/angel1sma3l/Developer/node-js-course/vidly/models/genre.js:22:17)\n    at Object.<anonymous>.router.post (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/genres.js:27:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:317:13)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)"}
{"level":"error","message":"schema.validate is not a functionschema.validate is not a function","stack":"TypeError: schema.validate is not a function\n    at validateGenre (/Users/angel1sma3l/Developer/node-js-course/vidly/models/genre.js:22:17)\n    at Object.<anonymous>.router.put (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/genres.js:37:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/validateObjectId.js:5:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)"}
{"level":"error","message":"schema.validate is not a functionschema.validate is not a function","stack":"TypeError: schema.validate is not a function\n    at validateGenre (/Users/angel1sma3l/Developer/node-js-course/vidly/models/genre.js:22:17)\n    at Object.<anonymous>.router.put (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/genres.js:37:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/validateObjectId.js:5:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)"}
{"level":"error","message":"schema.validate is not a functionschema.validate is not a function","stack":"TypeError: schema.validate is not a function\n    at validateGenre (/Users/angel1sma3l/Developer/node-js-course/vidly/models/genre.js:22:17)\n    at Object.<anonymous>.router.put (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/genres.js:37:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/validateObjectId.js:5:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)"}
{"level":"error","message":"schema.validate is not a functionschema.validate is not a function","stack":"TypeError: schema.validate is not a function\n    at validateGenre (/Users/angel1sma3l/Developer/node-js-course/vidly/models/genre.js:22:17)\n    at Object.<anonymous>.router.put (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/genres.js:37:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/validateObjectId.js:5:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)"}
{"level":"error","message":"schema.validate is not a functionschema.validate is not a function","stack":"TypeError: schema.validate is not a function\n    at validateGenre (/Users/angel1sma3l/Developer/node-js-course/vidly/models/genre.js:22:17)\n    at Object.<anonymous>.router.put (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/genres.js:37:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/validateObjectId.js:5:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_tests...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_tests...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_tests...","level":"info"}
{"level":"error","message":"Joi.validate is not a functionJoi.validate is not a function","stack":"TypeError: Joi.validate is not a function\n    at validateGenre (/Users/angel1sma3l/Developer/node-js-course/vidly/models/genre.js:22:14)\n    at Object.<anonymous>.router.post (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/genres.js:27:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:317:13)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_tests...","level":"info"}
{"level":"error","message":"Joi.validate is not a functionJoi.validate is not a function","stack":"TypeError: Joi.validate is not a function\n    at validateGenre (/Users/angel1sma3l/Developer/node-js-course/vidly/models/genre.js:22:14)\n    at Object.<anonymous>.router.post (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/genres.js:27:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:317:13)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)"}
{"level":"error","message":"Joi.validate is not a functionJoi.validate is not a function","stack":"TypeError: Joi.validate is not a function\n    at validateGenre (/Users/angel1sma3l/Developer/node-js-course/vidly/models/genre.js:22:14)\n    at Object.<anonymous>.router.post (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/genres.js:27:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:317:13)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)"}
{"level":"error","message":"Joi.validate is not a functionJoi.validate is not a function","stack":"TypeError: Joi.validate is not a function\n    at validateGenre (/Users/angel1sma3l/Developer/node-js-course/vidly/models/genre.js:22:14)\n    at Object.<anonymous>.router.post (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/genres.js:27:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:317:13)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)"}
{"level":"error","message":"Joi.validate is not a functionJoi.validate is not a function","stack":"TypeError: Joi.validate is not a function\n    at validateGenre (/Users/angel1sma3l/Developer/node-js-course/vidly/models/genre.js:22:14)\n    at Object.<anonymous>.router.post (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/genres.js:27:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:317:13)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)"}
{"level":"error","message":"Joi.validate is not a functionJoi.validate is not a function","stack":"TypeError: Joi.validate is not a function\n    at validateGenre (/Users/angel1sma3l/Developer/node-js-course/vidly/models/genre.js:22:14)\n    at Object.<anonymous>.router.put (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/genres.js:37:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/validateObjectId.js:5:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)"}
{"level":"error","message":"Joi.validate is not a functionJoi.validate is not a function","stack":"TypeError: Joi.validate is not a function\n    at validateGenre (/Users/angel1sma3l/Developer/node-js-course/vidly/models/genre.js:22:14)\n    at Object.<anonymous>.router.put (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/genres.js:37:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/validateObjectId.js:5:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)"}
{"level":"error","message":"Joi.validate is not a functionJoi.validate is not a function","stack":"TypeError: Joi.validate is not a function\n    at validateGenre (/Users/angel1sma3l/Developer/node-js-course/vidly/models/genre.js:22:14)\n    at Object.<anonymous>.router.put (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/genres.js:37:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/validateObjectId.js:5:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)"}
{"level":"error","message":"Joi.validate is not a functionJoi.validate is not a function","stack":"TypeError: Joi.validate is not a function\n    at validateGenre (/Users/angel1sma3l/Developer/node-js-course/vidly/models/genre.js:22:14)\n    at Object.<anonymous>.router.put (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/genres.js:37:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/validateObjectId.js:5:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)"}
{"level":"error","message":"Joi.validate is not a functionJoi.validate is not a function","stack":"TypeError: Joi.validate is not a function\n    at validateGenre (/Users/angel1sma3l/Developer/node-js-course/vidly/models/genre.js:22:14)\n    at Object.<anonymous>.router.put (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/genres.js:37:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/validateObjectId.js:5:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_tests...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_tests...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_tests...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_tests...","level":"info"}
{"level":"error","message":"schema.validate is not a functionschema.validate is not a function","stack":"TypeError: schema.validate is not a function\n    at validateGenre (/Users/angel1sma3l/Developer/node-js-course/vidly/models/genre.js:22:17)\n    at Object.<anonymous>.router.post (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/genres.js:27:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:317:13)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)"}
{"level":"error","message":"schema.validate is not a functionschema.validate is not a function","stack":"TypeError: schema.validate is not a function\n    at validateGenre (/Users/angel1sma3l/Developer/node-js-course/vidly/models/genre.js:22:17)\n    at Object.<anonymous>.router.post (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/genres.js:27:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:317:13)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)"}
{"level":"error","message":"schema.validate is not a functionschema.validate is not a function","stack":"TypeError: schema.validate is not a function\n    at validateGenre (/Users/angel1sma3l/Developer/node-js-course/vidly/models/genre.js:22:17)\n    at Object.<anonymous>.router.post (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/genres.js:27:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:317:13)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)"}
{"level":"error","message":"schema.validate is not a functionschema.validate is not a function","stack":"TypeError: schema.validate is not a function\n    at validateGenre (/Users/angel1sma3l/Developer/node-js-course/vidly/models/genre.js:22:17)\n    at Object.<anonymous>.router.post (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/genres.js:27:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:317:13)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)"}
{"level":"error","message":"schema.validate is not a functionschema.validate is not a function","stack":"TypeError: schema.validate is not a function\n    at validateGenre (/Users/angel1sma3l/Developer/node-js-course/vidly/models/genre.js:22:17)\n    at Object.<anonymous>.router.post (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/genres.js:27:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:317:13)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)"}
{"level":"error","message":"schema.validate is not a functionschema.validate is not a function","stack":"TypeError: schema.validate is not a function\n    at validateGenre (/Users/angel1sma3l/Developer/node-js-course/vidly/models/genre.js:22:17)\n    at Object.<anonymous>.router.put (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/genres.js:37:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/validateObjectId.js:5:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)"}
{"level":"error","message":"schema.validate is not a functionschema.validate is not a function","stack":"TypeError: schema.validate is not a function\n    at validateGenre (/Users/angel1sma3l/Developer/node-js-course/vidly/models/genre.js:22:17)\n    at Object.<anonymous>.router.put (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/genres.js:37:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/validateObjectId.js:5:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)"}
{"level":"error","message":"schema.validate is not a functionschema.validate is not a function","stack":"TypeError: schema.validate is not a function\n    at validateGenre (/Users/angel1sma3l/Developer/node-js-course/vidly/models/genre.js:22:17)\n    at Object.<anonymous>.router.put (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/genres.js:37:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/validateObjectId.js:5:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)"}
{"level":"error","message":"schema.validate is not a functionschema.validate is not a function","stack":"TypeError: schema.validate is not a function\n    at validateGenre (/Users/angel1sma3l/Developer/node-js-course/vidly/models/genre.js:22:17)\n    at Object.<anonymous>.router.put (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/genres.js:37:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/validateObjectId.js:5:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)"}
{"level":"error","message":"schema.validate is not a functionschema.validate is not a function","stack":"TypeError: schema.validate is not a function\n    at validateGenre (/Users/angel1sma3l/Developer/node-js-course/vidly/models/genre.js:22:17)\n    at Object.<anonymous>.router.put (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/genres.js:37:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/validateObjectId.js:5:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_tests...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_tests...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_tests...","level":"info"}
{"level":"error","message":"Invalid message optionsInvalid message options","stack":"Error: Invalid message options\n    at new Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/hoek/lib/error.js:23:19)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/hoek/lib/assert.js:20:11)\n    at Object.<anonymous>.exports.compile (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/joi/lib/messages.js:30:5)\n    at Object.<anonymous>.exports.preferences (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/joi/lib/common.js:158:36)\n    at Object.<anonymous>.exports.entry (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/joi/lib/validator.js:23:27)\n    at Object.<anonymous>.internals.Base.validate (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/joi/lib/base.js:531:26)\n    at validateGenre (/Users/angel1sma3l/Developer/node-js-course/vidly/models/genre.js:23:17)\n    at Object.<anonymous>.router.post (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/genres.js:27:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_tests...","level":"info"}
{"level":"error","message":"Invalid message optionsInvalid message options","stack":"Error: Invalid message options\n    at new Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/hoek/lib/error.js:23:19)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/hoek/lib/assert.js:20:11)\n    at Object.<anonymous>.exports.compile (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/joi/lib/messages.js:30:5)\n    at Object.<anonymous>.exports.preferences (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/joi/lib/common.js:158:36)\n    at Object.<anonymous>.exports.entry (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/joi/lib/validator.js:23:27)\n    at Object.<anonymous>.internals.Base.validate (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/joi/lib/base.js:531:26)\n    at validateGenre (/Users/angel1sma3l/Developer/node-js-course/vidly/models/genre.js:23:17)\n    at Object.<anonymous>.router.post (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/genres.js:27:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)"}
{"level":"error","message":"Invalid message optionsInvalid message options","stack":"Error: Invalid message options\n    at new Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/hoek/lib/error.js:23:19)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/hoek/lib/assert.js:20:11)\n    at Object.<anonymous>.exports.compile (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/joi/lib/messages.js:30:5)\n    at Object.<anonymous>.exports.preferences (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/joi/lib/common.js:158:36)\n    at Object.<anonymous>.exports.entry (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/joi/lib/validator.js:23:27)\n    at Object.<anonymous>.internals.Base.validate (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/joi/lib/base.js:531:26)\n    at validateGenre (/Users/angel1sma3l/Developer/node-js-course/vidly/models/genre.js:23:17)\n    at Object.<anonymous>.router.post (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/genres.js:27:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)"}
{"level":"error","message":"Invalid message optionsInvalid message options","stack":"Error: Invalid message options\n    at new Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/hoek/lib/error.js:23:19)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/hoek/lib/assert.js:20:11)\n    at Object.<anonymous>.exports.compile (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/joi/lib/messages.js:30:5)\n    at Object.<anonymous>.exports.preferences (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/joi/lib/common.js:158:36)\n    at Object.<anonymous>.exports.entry (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/joi/lib/validator.js:23:27)\n    at Object.<anonymous>.internals.Base.validate (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/joi/lib/base.js:531:26)\n    at validateGenre (/Users/angel1sma3l/Developer/node-js-course/vidly/models/genre.js:23:17)\n    at Object.<anonymous>.router.post (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/genres.js:27:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)"}
{"level":"error","message":"Invalid message optionsInvalid message options","stack":"Error: Invalid message options\n    at new Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/hoek/lib/error.js:23:19)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/hoek/lib/assert.js:20:11)\n    at Object.<anonymous>.exports.compile (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/joi/lib/messages.js:30:5)\n    at Object.<anonymous>.exports.preferences (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/joi/lib/common.js:158:36)\n    at Object.<anonymous>.exports.entry (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/joi/lib/validator.js:23:27)\n    at Object.<anonymous>.internals.Base.validate (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/joi/lib/base.js:531:26)\n    at validateGenre (/Users/angel1sma3l/Developer/node-js-course/vidly/models/genre.js:23:17)\n    at Object.<anonymous>.router.post (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/genres.js:27:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/index.js:174:3)"}
{"level":"error","message":"Invalid message optionsInvalid message options","stack":"Error: Invalid message options\n    at new Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/hoek/lib/error.js:23:19)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/hoek/lib/assert.js:20:11)\n    at Object.<anonymous>.exports.compile (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/joi/lib/messages.js:30:5)\n    at Object.<anonymous>.exports.preferences (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/joi/lib/common.js:158:36)\n    at Object.<anonymous>.exports.entry (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/joi/lib/validator.js:23:27)\n    at Object.<anonymous>.internals.Base.validate (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/joi/lib/base.js:531:26)\n    at validateGenre (/Users/angel1sma3l/Developer/node-js-course/vidly/models/genre.js:23:17)\n    at Object.<anonymous>.router.put (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/genres.js:37:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/validateObjectId.js:5:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)"}
{"level":"error","message":"Invalid message optionsInvalid message options","stack":"Error: Invalid message options\n    at new Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/hoek/lib/error.js:23:19)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/hoek/lib/assert.js:20:11)\n    at Object.<anonymous>.exports.compile (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/joi/lib/messages.js:30:5)\n    at Object.<anonymous>.exports.preferences (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/joi/lib/common.js:158:36)\n    at Object.<anonymous>.exports.entry (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/joi/lib/validator.js:23:27)\n    at Object.<anonymous>.internals.Base.validate (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/joi/lib/base.js:531:26)\n    at validateGenre (/Users/angel1sma3l/Developer/node-js-course/vidly/models/genre.js:23:17)\n    at Object.<anonymous>.router.put (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/genres.js:37:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/validateObjectId.js:5:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)"}
{"level":"error","message":"Invalid message optionsInvalid message options","stack":"Error: Invalid message options\n    at new Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/hoek/lib/error.js:23:19)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/hoek/lib/assert.js:20:11)\n    at Object.<anonymous>.exports.compile (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/joi/lib/messages.js:30:5)\n    at Object.<anonymous>.exports.preferences (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/joi/lib/common.js:158:36)\n    at Object.<anonymous>.exports.entry (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/joi/lib/validator.js:23:27)\n    at Object.<anonymous>.internals.Base.validate (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/joi/lib/base.js:531:26)\n    at validateGenre (/Users/angel1sma3l/Developer/node-js-course/vidly/models/genre.js:23:17)\n    at Object.<anonymous>.router.put (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/genres.js:37:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/validateObjectId.js:5:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)"}
{"level":"error","message":"Invalid message optionsInvalid message options","stack":"Error: Invalid message options\n    at new Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/hoek/lib/error.js:23:19)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/hoek/lib/assert.js:20:11)\n    at Object.<anonymous>.exports.compile (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/joi/lib/messages.js:30:5)\n    at Object.<anonymous>.exports.preferences (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/joi/lib/common.js:158:36)\n    at Object.<anonymous>.exports.entry (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/joi/lib/validator.js:23:27)\n    at Object.<anonymous>.internals.Base.validate (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/joi/lib/base.js:531:26)\n    at validateGenre (/Users/angel1sma3l/Developer/node-js-course/vidly/models/genre.js:23:17)\n    at Object.<anonymous>.router.put (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/genres.js:37:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/validateObjectId.js:5:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)"}
{"level":"error","message":"Invalid message optionsInvalid message options","stack":"Error: Invalid message options\n    at new Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/hoek/lib/error.js:23:19)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/hoek/lib/assert.js:20:11)\n    at Object.<anonymous>.exports.compile (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/joi/lib/messages.js:30:5)\n    at Object.<anonymous>.exports.preferences (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/joi/lib/common.js:158:36)\n    at Object.<anonymous>.exports.entry (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/joi/lib/validator.js:23:27)\n    at Object.<anonymous>.internals.Base.validate (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/@hapi/joi/lib/base.js:531:26)\n    at validateGenre (/Users/angel1sma3l/Developer/node-js-course/vidly/models/genre.js:23:17)\n    at Object.<anonymous>.router.put (/Users/angel1sma3l/Developer/node-js-course/vidly/routes/genres.js:37:21)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/validateObjectId.js:5:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Object.<anonymous>.module.exports (/Users/angel1sma3l/Developer/node-js-course/vidly/middleware/auth.js:11:5)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/Users/angel1sma3l/Developer/node-js-course/vidly/node_modules/express/lib/router/layer.js:95:5)"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_tests...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_tests...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_tests...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_tests...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_tests...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_tests...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_tests...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_tests...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_tests...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_tests...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_tests...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_tests...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_tests...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_tests...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_tests...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_tests...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_tests...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_tests...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_tests...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_tests...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_tests...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_tests...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_tests...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_tests...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_tests...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly...","level":"info"}
